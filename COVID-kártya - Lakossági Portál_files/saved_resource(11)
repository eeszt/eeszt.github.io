YUI.add("aui-tree-paginator",function(e,t){function E(t){var n=this;e.after(n._bindPaginatorUI,this,"bindUI"),e.after(n._syncPaginatorUI,this,"syncUI")}var n=e.Lang,r=n.isObject,i=n.isValue,s=e.getClassName,o="children",u="container",a="end",f="io",l="limit",c="Load more results",h="node",p="ownerTree",d="paginator",v="start",m="tree",g="tree-node-io",y="paginatorClick",b=s(m,h,d),w='<a class="'+b+'" hrsef="javascript:void(0);">{moreResultsLabel}</a>';E.ATTRS={paginator:{setter:function(t){var r=this,i=e.Node.create(n.sub(w,{moreResultsLabel:t.moreResultsLabel||c}));return e.merge({alwaysVisible:!1,autoFocus:!0,element:i,endParam:a,limitParam:l,start:0,startParam:v},t)},validator:r}},E.prototype={_bindPaginatorUI:function(){var t=this,n=t.get(d);n&&n.element.on("click",e.bind(t._handlePaginatorClickEvent,t)),t._createEvents()},_createEvents:function(){var e=this;e.publish(y,{defaultFn:e._defPaginatorClickFn,prefix:g})},_defPaginatorClickFn:function(e){var t=this,n=t.get(d);i(n.limit)&&(n.start=t.getChildrenLength()),t.get(f)&&t.initIO()},_handlePaginatorClickEvent:function(e){var t=this,n=t.getEventOutputMap(t);t.fire(y,n),e.halt()},_syncPaginatorIOData:function(e){var t=this,n=t.get(d);if(n&&i(n.limit)){var r=e.cfg.data||{};r[n.limitParam]=n.limit,r[n.startParam]=n.start,r[n.endParam]=n.start+n.limit,e.cfg.data=r}},_syncPaginatorUI:function(e){var t=this,n=t.get(d);if(n){var r=!0;e&&(r=e.length>0);var i=t.getChildrenLength(),s=n.start,o=n.total||i,a=i&&r&&o>i;if(n.alwaysVisible||a){t.get(u).append(n.element.show());if(n.autoFocus)try{n.element.focus()}catch(f){}}else n.element.hide()}}},e.TreeViewPaginator=E},"2.0.0",{requires:["yui-base"]});YUI.add("aui-tree-node",function(e,t){var n=e.Lang,r=n.isString,i=n.isBoolean,s=n.isFunction,o="cache",u="io",a="loaded",f="loading",l="paginator",c="alwaysShowHitArea",h="",p="boundingBox",d="children",v="collapsed",m="container",g="content",y="contentBox",b="draggable",w="expanded",E="hidden",S="hitAreaEl",x="hitarea",T="icon",N="iconEl",C="invalid",k="hide",L="id",A="label",O="labelEl",M="lastSelected",_="leaf",D="node",P="over",H="ownerTree",B="parentNode",j="radio",F="rendered",I="selected",q=" ",R="tree",U="tree-node",z="ok",W="refresh",X="minus",V="plus",$="file",J="close",K="folder",Q="sign",G="open",Y="check",Z=function(t){return t instanceof e.TreeNode},et=function(t){return t instanceof e.TreeView},tt=e.getClassName,nt=tt(R,v),rt=tt(R,m),it=tt(R,w),st=tt(R,x),ot=tt(R,T),ut=tt(R,A),at=tt(R,D),ft=tt(R,D,g),lt=tt(R,D,g,C),ct=tt(R,D,E,x),ht=tt(R,D,_),pt=tt(R,D,P),dt=tt(R,D,I),vt=tt(T,K,J),mt=tt(T,K,G),gt=tt(T,V),yt=tt(T,X),bt=tt(T,$),wt=tt(T,W),Et=tt(T,z,Q),St=tt(T,Y),xt='<i class="'+st+'"></i>',Tt='<i class="'+ot+'"></i>',Nt='<span class="'+ut+'"></span>',Ct="<ul></ul>",kt='<li class="'+at+'"></li>',Lt='<div class="'+ft+'"></div>',At=e.Component.create({NAME:U,ATTRS:{boundingBox:{valueFn:function(){return e.Node.create(kt)}},contentBox:{valueFn:function(){return e.Node.create(Lt)}},cssClasses:{value:{file:{iconCheck:St,iconCollapsed:vt,iconExpanded:mt,iconHitAreaCollapsed:[st,gt].join(q),iconHitAreaExpanded:[st,yt].join(q),iconLeaf:bt,iconLoading:wt,iconUncheck:St},normal:{iconCheck:St,iconHitAreaCollapsed:[st,gt].join(q),iconHitAreaExpanded:[st,yt].join(q),iconLoading:wt,iconUncheck:St}}},draggable:{value:!0,validator:i},ownerTree:{value:null},label:{value:h,validator:r},expanded:{value:!1,validator:i},id:{validator:r,valueFn:function(){return e.guid()}},leaf:{value:!0,setter:function(e){return e&&this.get(d).length?!1:e},validator:i},nextSibling:{getter:"_getSibling",value:null,validator:Z},prevSibling:{getter:"_getSibling",value:null,validator:Z},parentNode:{value:null,validator:function(e){return Z(e)||et(e)}},labelEl:{setter:e.one,valueFn:function(){var t=this.get(A);return e.Node.create(Nt).html(t).unselectable()}},hitAreaEl:{setter:e.one,valueFn:function(){return e.Node.create(xt)}},alwaysShowHitArea:{value:!0,validator:i},iconEl:{setter:e.one,valueFn:function(){return e.Node.create(Tt)}},tabIndex:{value:null},rendered:{validator:i,value:!1}},AUGMENTS:[e.TreeData,e.TreeViewIO,e.TreeViewPaginator],EXTENDS:e.Base,prototype:{BOUNDING_TEMPLATE:kt,CONTENT_TEMPLATE:Lt,initializer:function(){var e=this,t=e.get(p);t.setData(U,e),e._syncTreeNodeBBId(),e._uiSetDraggable(e.get(b)),e._uiSetExpanded(e.get(w)),e._uiSetLeaf(e.get(_))},bindUI:function(){var e=this;e.after({childrenChange:e._afterSetChildren,draggableChange:e._afterDraggableChange,expandedChange:e._afterExpandedChange,idChange:e._afterSetId,leafChange:e._afterLeafChange,loadingChange:e._afterLoadingChange})},render:function(e){var t=this;t.get(F)||(t.renderUI(),t.bindUI(),t.syncUI(),t.set(F,!0));if(e){var n=t.get(p),r=t.get(l);n.appendTo(e),r&&n.insertBefore(r.element)}},renderUI:function(){var e=this;e._renderBoundingBox(),e._renderContentBox()},syncUI:function(){var e=this;e._syncIconUI()},_afterDraggableChange:function(e){var t=this;t._uiSetDraggable(e.newVal),t._syncIconUI()},_afterExpandedChange:function(e){var t=this;t._uiSetExpanded(e.newVal),t._syncIconUI()},_afterLeafChange:function(e){var t=this;t._uiSetLeaf(e.newVal),t._syncIconUI()},_afterLoadingChange:function(e){var t=this;t._syncIconUI()},_afterSetChildren:function(e){var t=this;t._syncIconUI()},_renderContentBox:function(e){var t=this,n=t.get(y);if(!t.isLeaf()){var r=t.get(w);n.addClass(r?it:nt),r&&t.expand()}return n},_renderBoundingBox:function(){var e=this,t=e.get(p),n=e.get(y);n.append(e.get(N)),n.append(e.get(O)),t.append(n);var r=e.get(m);return r&&(e.get(w)||r.hide(),t.append(r)),t},_createNodeContainer:function(){var t=this,n=t.get(m)||e.Node.create(Ct);return n.addClass(rt),t.set(m,n),n},_syncHitArea:function(){var e=this;e.get(c)||e.getChildrenLength()?e.showHitArea():e.hideHitArea()},_syncIconUI:function(){var e=this,t=e.get(H);if(t){var n=t.get("type"),r=e.get("cssClasses."+n);if(!r)return;var i=e.get(w),s=e.get(N),o=e.get(S),u=e.isLeaf()?r.iconLeaf:i?r.iconExpanded:r.iconCollapsed,a=i?r.iconHitAreaExpanded:r.iconHitAreaCollapsed;e.get(f)&&(u=r.iconLoading),s.setAttribute("className",u||h),o.setAttribute("className",a||h)}e._syncHitArea()},appendChild:function(){var t=this;t.isLeaf()||e.TreeNode.superclass.appendChild.apply(t,arguments)},collapse:function(){var e=this;e.set(w,!1)},collapseAll:function(){var t=this;e.TreeNode.superclass.collapseAll.apply(t,arguments),t.collapse()},contains:function(e){return e.isAncestor(this)},expand:function(){var e=this;e.set(w,!0)},expandAll:function(){var t=this;e.TreeNode.superclass.expandAll.apply(t,arguments),t.expand()},getDepth:function(){var e=this,t=0,n=e.get(B);while(n)++t,n=n.get(B);return t},hasChildNodes:function(){var t=this;return!t.isLeaf()&&e.TreeNode.superclass.hasChildNodes.apply(this,arguments)},isSelected:function(){return this.get(y).hasClass(dt)},isLeaf:function(){var e=this;return e.get(_)},isAncestor:function(e){var t=this,n=t.get(B);while(n){if(n===e)return!0;n=n.get(B)}return!1},toggle:function(){var e=this;e.get(w)?e.collapse():e.expand()},select:function(){var e=this,t=e.get(H);t&&t.set(M,e),e.get(y).addClass(dt),e.fire("select")},unselect:function(){var e=this;e.get(y).removeClass(dt),e.fire("unselect")},over:function(){this.get(y).addClass(pt)},out:function(){this.get(y).removeClass(pt)},showHitArea:function(){var e=this,t=e.get(S);t.removeClass(ct)},hideHitArea:function(){var e=this,t=e.get(S);t.addClass(ct)},_syncTreeNodeBBId:function(e){var t=this;t.get(p).attr(L,t.get(L))},_getSibling:function(e,t){var n=this,r="_"+t,i=n[r];return i!==null&&!Z(i)&&(i=null,n[r]=i),i},_uiSetDraggable:function(e){var t=this,n=t.get(y);n.toggleClass(lt,!e)},_uiSetExpanded:function(e){var t=this;if(!
t.isLeaf()){var n=t.get(m),r=t.get(y),i=t.get(H),s=r.one(jt+st);e?(r.replaceClass(nt,it),!i&&s&&s.replaceClass(gt,yt),n&&n.show()):(r.replaceClass(it,nt),!i&&s&&s.replaceClass(yt,gt),n&&n.hide())}},_uiSetLeaf:function(e){var t=this,n=t.get(y);e?(t.get(m).remove(),t.get(S).remove()):(n.prepend(t.get(S)),t._createNodeContainer(),t._uiSetExpanded(t.get(w))),n.toggleClass(ht,e)}}});e.TreeNode=At;var Ot="tree-node-io",Mt=e.Component.create({NAME:Ot,ATTRS:{loading:{value:!1,validator:i},loaded:{value:!1,validator:i},cache:{value:!0,validator:i},leaf:{value:!1,validator:i}},AUGMENTS:[e.TreeViewPaginator,e.TreeViewIO],EXTENDS:e.TreeNode,prototype:{bindUI:function(){var t=this;e.TreeNodeIO.superclass.bindUI.apply(this,arguments),t.on("ioRequestSuccess",t._onIOSuccess,t)},syncUI:function(){var t=this;e.TreeNodeIO.superclass.syncUI.apply(this,arguments)},expand:function(){var t=this,n=t.get(o),r=t.get(u),i=t.get(a),s=t.get(f);n||t.set(a,!1),r&&!i&&!s&&!t.hasChildNodes()&&!t.isLeaf()?(n||t.empty(),t.initIO()):e.TreeNodeIO.superclass.expand.apply(this,arguments)},_inheritOwnerTreeAttrs:function(){var t=this,n=t.get(H);if(n){if(!t.get(u)){var r=e.clone(n.get(u),!0,function(e,t){return s(e)&&(e.defaultFn||e.wrappedFn)?!1:!0});t.set(u,r)}if(!t.get(l)){var i=n.get(l),o=e.clone(i);o&&o.element&&(o.element=i.element.clone()),t.set(l,o)}}},_onIOSuccess:function(e){var t=this;t.expand()}}});e.TreeNodeIO=Mt;var _t="checkbox",Dt="checked",Pt="checkContainerEl",Ht="checkEl",Bt="checkName",jt=".",t="name",Ft="tree-node-check",It=tt(R,D,_t),qt=tt(R,D,_t,m),Rt=tt(R,D,Dt),Ut='<i class="'+qt+'"></i>',zt='<input class="'+It+'" type="checkbox" />',Wt=e.Component.create({NAME:Ft,ATTRS:{checked:{value:!1,validator:i},checkName:{value:Ft,validator:r},checkContainerEl:{setter:e.one,valueFn:function(){return e.Node.create(Ut)}},checkEl:{setter:e.one,valueFn:function(){var n=this.get(Bt);return e.Node.create(zt).attr(t,n)}}},EXTENDS:e.TreeNodeIO,prototype:{renderUI:function(){var t=this;e.TreeNodeCheck.superclass.renderUI.apply(t,arguments);var n=t.get(O),r=t.get(Ht),i=t.get(Pt);r.hide(),i.append(r),n.placeBefore(i),t.isChecked()&&t.check(),t._uiSetChecked(t.get(Dt))},bindUI:function(){var t=this,n=t.get(y),r=t.get(O);e.TreeNodeCheck.superclass.bindUI.apply(t,arguments),t.after("checkedChange",e.bind(t._afterCheckedChange,t)),n.delegate("click",e.bind(t.toggleCheck,t),jt+qt),n.delegate("click",e.bind(t.toggleCheck,t),jt+ut),r.swallowEvent("dblclick")},check:function(e){var t=this;t.set(Dt,!0,{originalTarget:e})},uncheck:function(e){var t=this;t.set(Dt,!1,{originalTarget:e})},toggleCheck:function(){var e=this,t=e.get(Ht),n=t.attr(Dt);n?e.uncheck():e.check()},isChecked:function(){var e=this;return e.get(Dt)},_syncIconCheckUI:function(){var e=this,t=e.get(H);if(t){var n=t.get("type"),r=e.get("cssClasses."+n);if(!r)return;var i=e.get(Pt),s=e.isChecked();i.removeClass(s?r.iconUncheck:r.iconCheck),i.addClass(s?r.iconCheck:r.iconUncheck)}},_afterCheckedChange:function(e){var t=this;t._uiSetChecked(e.newVal)},_uiSetChecked:function(e){var t=this;t._syncIconCheckUI(),t.get(Ht).attr(Dt,e?Dt:h),t.get(y).toggleClass(Rt,e)}}});e.TreeNodeCheck=Wt;var Xt="child",Vt="tree-node-task",$t="unchecked",Jt=function(t){return t instanceof e.TreeNodeCheck},Kt=tt(R,D,Xt,$t),Qt=e.Component.create({NAME:Vt,EXTENDS:e.TreeNodeCheck,prototype:{check:function(t){var n=this,r=n.get(y);t=t||n,n.isLeaf()||n.eachChildren(function(e){Jt(e)&&e.check(t)}),n.eachParent(function(e){if(Jt(e)){var t=!1;e.eachChildren(function(e){if(e!==n&&!e.isChecked())t=!0;else{var r=e.get(y).hasClass(Kt);r&&(t=!0)}}),t||e.get(y).removeClass(Kt)}}),r.removeClass(Kt),e.TreeNodeTask.superclass.check.call(this,t)},uncheck:function(t){var n=this,r=n.get(y);t=t||n,n.isLeaf()||n.eachChildren(function(n){n instanceof e.TreeNodeCheck&&n.uncheck(t)}),n.eachParent(function(e){Jt(e)&&e.isChecked()&&e.get(y).addClass(Kt)}),r.removeClass(Kt),e.TreeNodeTask.superclass.uncheck.call(this,t)}}});e.TreeNodeTask=Qt;var Gt="tree-node-radio",Yt=function(t){return t instanceof e.TreeNodeRadio},Zt=tt(R,D,j),en=e.Component.create({NAME:Gt,ATTRS:{cssClasses:{value:{file:{iconCheck:Et,iconCollapsed:vt,iconExpanded:mt,iconHitAreaCollapsed:[st,gt].join(q),iconHitAreaExpanded:[st,yt].join(q),iconLeaf:bt,iconLoading:wt,iconUncheck:Et},normal:{iconCheck:Et,iconHitAreaCollapsed:[st,gt].join(q),iconHitAreaExpanded:[st,yt].join(q),iconLoading:wt,iconUncheck:Et}}}},EXTENDS:e.TreeNodeTask,prototype:{renderUI:function(){var t=this;e.TreeNodeRadio.superclass.renderUI.apply(t,arguments),t.get(y).addClass(Zt)},check:function(){var t=this;t._uncheckNodesRadio(),e.TreeNodeRadio.superclass.check.apply(this,arguments)},_uncheckNodesRadio:function(t){var n=this,r;if(t)r=t.get(d);else{var i=n.get(H);if(!i)return;r=i.get(d)}e.Array.each(r,function(e,t,r){e.isLeaf()||n._uncheckNodesRadio(e),Yt(e)&&e.uncheck()})}}});e.TreeNodeRadio=en,e.TreeNode.nodeTypes={radio:e.TreeNodeRadio,task:e.TreeNodeTask,check:e.TreeNodeCheck,node:e.TreeNode,io:e.TreeNodeIO}},"2.0.0",{requires:["json","querystring-stringify","aui-tree-data","aui-tree-io","aui-tree-paginator"]});YUI.add("aui-tree-view",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isString,s=e.UA,o="boundingBox",u="children",a="container",f="content",l="contentBox",c=".",h="file",p="hitarea",d="icon",v="invalid",m="label",g="lastSelected",y="leaf",b="node",w="ownerTree",E="root",S="selectOnToggle",x=" ",T="tree",N="tree-node",C="tree-view",k="type",L="view",A=function(){return Array.prototype.slice.call(arguments).join(x)},O=function(t){return t instanceof e.TreeNode},M=e.getClassName,_=M(T,p),D=M(T,d),P=M(T,m),H=M(T,b,f),B=M(T,b,f,v),j=M(T,E,a),F=M(T,L,f),I=e.Component.create({NAME:C,ATTRS:{type:{value:h,validator:i},lastSelected:{value:null,validator:O},lazyLoad:{validator:r,value:!0},selectOnToggle:{validator:r,value:!1}},AUGMENTS:[e.TreeData,e.TreeViewPaginator,e.TreeViewIO],prototype:{CONTENT_TEMPLATE:"<ul></ul>",initializer:function(){var e=this,t=e.get(o);t.setData(C,e)},bindUI:function(){var t=this;t.after("childrenChange",e.bind(t._afterSetChildren,t)),t._delegateDOM()},renderUI:function(){var e=this;e._renderElements()},_afterSetChildren:function(e){var t=this,n=t.get("paginator");if(n&&n.total){var r=-1;e.newVal.length>e.prevVal.length&&(r=1),n.total+=r}t._syncPaginatorUI()},_createFromHTMLMarkup:function(t){var n=this;t.all("> li").each(function(t){var r=t.one("> *").remove(),i=r.outerHTML(),s=t.one("> ul"),o=new e.TreeNode({boundingBox:t,container:s,label:i,leaf:!s,ownerTree:n});n.get("lazyLoad")?e.setTimeout(function(){o.render()},50):o.render();var u=t.get(it).get(it),a=u.getData(N);e.instanceOf(a,e.TreeNode)||(a=u.getData(C)),a.appendChild(o),s&&n._createFromHTMLMarkup(s)})},_createNodeContainer:function(){var e=this,t=e.get(l);return e.set(a,t),t},_renderElements:function(){var e=this,t=e.get(l),n=e.get(u),r=e.get(k),i=M(T,r);t.addClass(F),t.addClass(A(i,j)),n.length||e._createFromHTMLMarkup(t)},_delegateDOM:function(){var t=this,n=t.get(o);n.delegate("click",e.bind(t._onClickNodeEl,t),c+H),n.delegate("dblclick",e.bind(t._onClickHitArea,t),c+D),n.delegate("dblclick",e.bind(t._onClickHitArea,t),c+P),n.delegate("mouseenter",e.bind(t._onMouseEnterNodeEl,t),c+H),n.delegate("mouseleave",e.bind(t._onMouseLeaveNodeEl,t),c+H)},_onClickNodeEl:function(e){var t=this,n=t.getNodeByChild(e.currentTarget);if(n){if(e.target.test(c+_)){n.toggle();if(!t.get(S))return}if(!n.isSelected()){var r=t.get(g);r&&r.unselect(),n.select()}}},_onMouseEnterNodeEl:function(e){var t=this,n=t.getNodeByChild(e.currentTarget);n&&n.over()},_onMouseLeaveNodeEl:function(e){var t=this,n=t.getNodeByChild(e.currentTarget);n&&n.out()},_onClickHitArea:function(e){var t=this,n=t.getNodeByChild(e.currentTarget);n&&n.toggle()}}});e.TreeView=I;var q=n.isNumber,R="above",U="append",z="below",W="block",X="body",V="clearfix",$="default",J="display",K="down",Q="drag",G="draggable",Y="dragCursor",Z="dragNode",et="expanded",tt="helper",nt="insert",rt="offsetHeight",it="parentNode",st="scrollDelay",ot="state",ut="tree-drag-drop",at="up",ft=e.DD.DDM,lt=M(V),ct=M(d),ht=M(T,Q,tt),pt=M(T,Q,tt,f),dt=M(T,Q,tt,m),vt=M(T,Q,nt,R),mt=M(T,Q,nt,U),gt=M(T,Q,nt,z),yt=M(T,Q,ot,U),bt=M(T,Q,ot,nt,R),wt=M(T,Q,ot,nt,z),Et='<div class="'+ht+'">'+'<div class="'+[pt,lt].join(x)+'">'+'<span class="'+ct+'"></span>'+'<span class="'+dt+'"></span>'+"</div>"+"</div>",St=e.Component.create({NAME:ut,ATTRS:{helper:{value:null},scrollDelay:{value:100,validator:q}},EXTENDS:e.TreeView,prototype:{direction:z,dropAction:null,lastY:0,node:null,nodeContent:null,destructor:function(){var e=this,t=e.get(tt);t&&t.remove(!0),e.ddDelegate&&e.ddDelegate.destroy()},bindUI:function(){var t=this;e.TreeViewDD.superclass.bindUI.apply(this,arguments),t._bindDragDrop()},renderUI:function(){var t=this;e.TreeViewDD.superclass.renderUI.apply(this,arguments);var n=e.Node.create(Et).hide();e.one(X).append(n),t.set(tt,n),ft.set(Y,$)},_bindDragDrop:function(){var t=this,n=t.get(o),r=null;t._createDragInitHandler=function(){t.ddDelegate=new e.DD.Delegate({bubbleTargets:t,container:n,invalid:c+B,nodes:c+H,target:!0});var i=t.ddDelegate.dd;i.plug(e.Plugin.DDProxy,{moveOnEnd:!1,positionProxy:!1,borderStyle:null}).plug(e.Plugin.DDNodeScroll,{scrollDelay:t.get(st),node:n}),i.removeInvalid("a"),r&&r.detach()},s.touch?t._createDragInitHandler():r=n.on(["focus","mousedown","mousemove"],t._createDragInitHandler),t.on("drag:align",t._onDragAlign),t.on("drag:start",t._onDragStart),t.on("drop:exit",t._onDropExit),t.after("drop:hit",t._afterDropHit),t.on("drop:hit",t._onDropHit),t.on("drop:over",t._onDropOver)},_appendState:function(e){var t=this;t.dropAction=U,t.get(tt).addClass(yt),e.addClass(mt)},_goingDownState:function(e){var t=this;t.dropAction=z,t.get(tt).addClass(wt),e.addClass(gt)},_goingUpState:function(e){var t=this;t.dropAction=R,t.get(tt).addClass(bt),e.addClass(vt)},_resetState:function(e){var t=this,n=t.get(tt);n.removeClass(yt),n.removeClass(bt),n.removeClass(wt),e&&(e.removeClass(vt),e.removeClass(mt),e.removeClass(gt))},_updateNodeState:function(e){var t=this,n=e.drag,r=e.drop,i=r.get(b),s=i.get(it),o=n.get(b).get(it),u=s.getData(N);t._resetState(t.nodeContent);if(!!u.get(G)&&!o.contains(s)){var a=i.get(rt)/3,f=i.getY(),l=f+a,c=f+a*2,h=n.mouseXY[1];h>f&&h<l?t._goingUpState(i):h>c?t._goingDownState(i):h>l&&h<c&&(u&&!u.isLeaf()?t._appendState(i):t.direction===at?t._goingUpState(i):t._goingDownState(i))}t.nodeContent=i},_afterDropHit:function(e){var t=this,n=t.dropAction,r=e.drag.get(b).get(it),i=e.drop.get(b).get(it),s=i.getData(N),o=r.getData(N),u=t.getEventOutputMap(t);u.tree.dropNode=s,u.tree.dragNode=o,n===R?(s.insertBefore(o),t.bubbleEvent("dropInsert",u)):n===z?(s.insertAfter(o),t.bubbleEvent("dropInsert",u)):n===U&&s&&!s.isLeaf()&&(s.get(et)||s.expand(),s.appendChild(o),t.bubbleEvent("dropAppend",u)),t._resetState(t.nodeContent),t.bubbleEvent("drop",u),t.dropAction=null},_onDragAlign:function(e){var t=this,n=t.lastY,r=e.target.lastXY[1];r!==n&&(t.direction=r<n?at:K),t.lastY=r},_onDragStart:function(e){var t=this,n=e.target,r=n.get(b).get(it),i=r.getData(N),s=t.get(g);s&&s.unselect(
),i.select();var o=t.get(tt),u=o.one(c+dt);o.setStyle(J,W).show(),u.html(i.get(m)),n.set(Z,o)},_onDropOver:function(e){var t=this;t._updateNodeState(e)},_onDropHit:function(e){var t=e.drop.get(b).get(it),n=t.getData(N);O(n)||e.preventDefault()},_onDropExit:function(){var e=this;e.dropAction=null,e._resetState(e.nodeContent)}}});e.TreeViewDD=St},"2.0.0",{requires:["dd-delegate","dd-proxy","aui-tree-node","aui-tree-paginator","aui-tree-io"],skinnable:!0});YUI.add("aui-tooltip-base",function(e,t){var n=e.Lang,r="bodyContent",i="boundingBox",s="contentBox",o="duration",u="formatter",a="hover",f="in",l="mouseenter",c="opacity",h="stickDuration",p="title",d="tooltip",v="trigger",m="visible",g="data-title",y=e.getClassName,b=y("tooltip-arrow"),w=y("tooltip-inner");e.Tooltip=e.Base.create(d,e.Widget,[e.WidgetCssClass,e.WidgetPosition,e.WidgetStdMod,e.WidgetToggle,e.WidgetAutohide,e.WidgetPositionAlign,e.WidgetPositionAlignSuggestion,e.WidgetPositionConstrain,e.WidgetStack,e.WidgetTrigger],{_hideTimer:null,initializer:function(){var t=this;e.after(t._afterUiSetTrigger,t,"_uiSetTrigger"),e.after(t._afterUiSetVisible,t,"_uiSetVisible")},renderUI:function(){var t=this,n=t.get(i),r=t.get(s);r.addClass(w),n.append(e.Tooltip.TEMPLATES.arrow),t._afterUiSetVisible(t.get(m))},bindUI:function(){var t=this,n=t.get(v);n&&n.on(a,e.bind(t._onBoundingBoxMouseenter,t),e.bind(t._onBoundingBoxMouseleave,t)),t.get(i).on(a,e.bind(t._onBoundingBoxMouseenter,t),e.bind(t._onBoundingBoxMouseleave,t))},destructor:function(){var e=this;e._clearHideTimer()},_afterUiSetVisible:function(t){var n=this,r=n.get(h);t?(n._loadTooltipContentFromTitle(),n._maybeShow()):e.Lang.isNumber(r)||n._maybeHide()},_afterUiSetTrigger:function(e){var t=this;t.suggestAlignment(e)},_borrowTitleAttribute:function(){var e=this.get("trigger"),t=e.getAttribute("title");t&&e.setAttribute("data-title",t).removeAttribute("title")},_clearHideTimer:function(){var e=this;e._hideTimer&&(e._hideTimer.cancel(),e._hideTimer=null)},_setStdModSection:function(t){var r=this.get("formatter");return n.isString(t)&&(r&&(t=r.call(this,t)),this.get("html")||(t=e.Escape.html(t))),t},_loadTooltipContentFromTitle:function(){var t=this.get("trigger"),n;if(!t)return;this._borrowTitleAttribute(),n=t.getAttribute("data-title"),n&&this.setStdModContent(e.WidgetStdMod.BODY,n)},_maybeHide:function(){var t=this,n;n=t.get(h),e.Lang.isNumber(n)?t._hideTimer=e.later(n,t,t._transition):(t._transition(),t.hide())},_maybeShow:function(){var e=this;e._transition(!0)},_onBoundingBoxMouseenter:function(){var e=this;e._clearHideTimer()},_onBoundingBoxMouseleave:function(){var e=this;e._maybeHide()},_transition:function(e){var t=this,n=t.get(i);n.transition({duration:t.get(o),opacity:e?t.get(c):0},function(){n.toggleClass(f,e),e||t.hide()})}},{CSS_PREFIX:y(d),ATTRS:{bodyContent:{setter:"_setStdModSection"},constrain:{value:!0},duration:{validator:n.isNumber,value:.15},footerContent:{setter:"_setStdModSection"},formatter:{validator:e.Lang.isFunction},headerContent:{setter:"_setStdModSection"},html:{value:!1,validator:n.isBoolean},opacity:{validator:n.isNumber,value:.8},stickDuration:{validator:e.Lang.isNumber},triggerShowEvent:{validator:n.isString,value:l},zIndex:{value:1030}},TEMPLATES:{arrow:'<div class="'+b+'"></div>'}})},"2.0.0",{requires:["escape","event-hover","transition","widget","widget-autohide","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod","aui-classnamemanager","aui-component","aui-widget-cssclass","aui-widget-toggle","aui-widget-trigger","aui-widget-position-align-suggestion","aui-node-base"]});YUI.add("aui-tooltip-delegate",function(e,t){var n=e.Lang,r=e.config.doc,i="tooltip-delegate",s="align",o="container",u="duration",a="formatter",f="mouseenter",l="mouseleave",c="opacity",h="position",p="trigger",d="triggerHideEvent",v="triggerShowEvent",m="zIndex";e.TooltipDelegate=e.Base.create(i,e.Base,[],{items:null,tooltip:null,initializer:function(){var e=this;e._eventHandles=[],e.bindUI()},destructor:function(){var t=this;(new e.EventHandle(t._eventHandles)).detach()},bindUI:function(){var t=this,n,r;n=t.get(o),r=t.get(p),t._eventHandles.push(n.delegate(t.get(v),e.bind(t._onUserShowInteraction,t),r),n.delegate(t.get(d),e.bind(t._onUserHideInteraction,t),r))},getTooltip:function(){var t=this,n=t.tooltip;return n||(n=t.tooltip=new e.Tooltip({align:t.get(s),bindDOMEvents:!1,cssClass:t.get("cssClass"),duration:t.get(u),formatter:t.get(a),html:t.get("html"),opacity:t.get(c),position:t.get(h),visible:!1,zIndex:t.get(m)})),n},_onUserHideInteraction:function(){var e=this;e.getTooltip().hide()},_onUserShowInteraction:function(e){var t=this,n;n=e.currentTarget,t.getTooltip().render().set(p,n).show()}},{ATTRS:{align:{value:null},container:{setter:e.one,value:r,writeOnce:!0},cssClass:{value:null},duration:{value:.15,writeOnce:!0},formatter:e.Tooltip.ATTRS.formatter,html:{value:!1,validator:n.isBoolean},opacity:{value:.8,writeOnce:!0},position:e.WidgetPositionAlignSuggestion.ATTRS.position,trigger:e.WidgetPositionAlignSuggestion.ATTRS.trigger,triggerHideEvent:{validator:n.isString,value:l,writeOnce:!0},triggerShowEvent:{validator:n.isString,value:f,writeOnce:!0},zIndex:{}}})},"2.0.0",{requires:["node-event-delegate","aui-tooltip-base"]});YUI.add("async-queue",function(e,t){e.AsyncQueue=function(){this._init(),this.add.apply(this,arguments)};var n=e.AsyncQueue,r="execute",i="shift",s="promote",o="remove",u=e.Lang.isObject,a=e.Lang.isFunction;n.defaults=e.mix({autoContinue:!0,iterations:1,timeout:10,until:function(){return this.iterations|=0,this.iterations<=0}},e.config.queueDefaults||{}),e.extend(n,e.EventTarget,{_running:!1,_init:function(){e.EventTarget.call(this,{prefix:"queue",emitFacade:!0}),this._q=[],this.defaults={},this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:!0},shift:{defaultFn:this._defShiftFn,emitFacade:!0},add:{defaultFn:this._defAddFn,emitFacade:!0},promote:{defaultFn:this._defPromoteFn,emitFacade:!0},remove:{defaultFn:this._defRemoveFn,emitFacade:!0}})},next:function(){var e;while(this._q.length){e=this._q[0]=this._prepare(this._q[0]);if(!e||!e.until())break;this.fire(i,{callback:e}),e=null}return e||null},_defShiftFn:function(e){this.indexOf(e.callback)===0&&this._q.shift()},_prepare:function(t){if(a(t)&&t._prepared)return t;var r=e.merge(n.defaults,{context:this,args:[],_prepared:!0},this.defaults,a(t)?{fn:t}:t),i=e.bind(function(){i._running||i.iterations--,a(i.fn)&&i.fn.apply(i.context||e,e.Array(i.args))},this);return e.mix(i,r)},run:function(){var e,t=!0;if(this._executing)return this._running=!0,this;for(e=this.next();e&&!this.isRunning();e=this.next()){t=e.timeout<0?this._execute(e):this._schedule(e);if(!t)break}return e||this.fire("complete"),this},_execute:function(e){this._running=e._running=!0,this._executing=e,e.iterations--,this.fire(r,{callback:e});var t=this._running&&e.autoContinue;return this._running=e._running=!1,this._executing=!1,t},_schedule:function(t){return this._running=e.later(t.timeout,this,function(){this._execute(t)&&this.run()}),!1},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){return this.fire("add",{callbacks:e.Array(arguments,0,!0)}),this},_defAddFn:function(t){var n=this._q,r=[];e.Array.each(t.callbacks,function(e){u(e)&&(n.push(e),r.push(e))}),t.added=r},pause:function(){return this._running&&u(this._running)&&this._running.cancel(),this._running=!1,this},stop:function(){return this._q=[],this._running&&u(this._running)&&(this._running.cancel(),this._running=!1),this},indexOf:function(e){var t=0,n=this._q.length,r;for(;t<n;++t){r=this._q[t];if(r===e||r.id===e)return t}return-1},getCallback:function(e){var t=this.indexOf(e);return t>-1?this._q[t]:null},promote:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(s,t),n.detach()},this):this.fire(s,t),this},_defPromoteFn:function(e){var t=this.indexOf(e.callback),n=t>-1?this._q.splice(t,1)[0]:null;e.promoted=n,n&&this._q.unshift(n)},remove:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(o,t),n.detach()},this):this.fire(o,t),this},_defRemoveFn:function(e){var t=this.indexOf(e.callback);e.removed=t>-1?this._q.splice(t,1)[0]:null},size:function(){return this.isRunning()||this.next(),this._q.length}})},"patched-v3.11.0",{requires:["event-custom"]});YUI.add("gesture-simulate",function(e,t){function T(n){n||e.error(t+": invalid target node"),this.node=n,this.target=e.Node.getDOMNode(n);var r=this.node.getXY(),i=this._getDims();a=r[0]+i[0]/2,f=r[1]+i[1]/2}var t="gesture-simulate",n=e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6),r={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},i={touchstart:1,touchmove:1,touchend:1,touchcancel:1},s=e.config.doc,o,u=20,a,f,l={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},c="touchstart",h="touchmove",p="touchend",d="gesturestart",v="gesturechange",m="gestureend",g="mouseup",y="mousemove",b="mousedown",w="click",E="dblclick",S="x",x="y";T.prototype={_toRadian:function(e){return e*(Math.PI/180)},_getDims:function(){var e,t,n;return this.target.getBoundingClientRect?(e=this.target.getBoundingClientRect(),"height"in e?n=e.height:n=Math.abs(e.bottom-e.top),"width"in e?t=e.width:t=Math.abs(e.right-e.left)):(e=this.node.get("region"),t=e.width,n=e.height),[t,n]},_calculateDefaultPoint:function(t){var n;return!e.Lang.isArray(t)||t.length===0?t=[a,f]:(t.length==1&&(n=this._getDims[1],t[1]=n/2),t[0]=this.node.getX()+t[0],t[1]=this.node.getY()+t[1]),t},rotate:function(n,r,i,s,o,u,a){var f,l=i,c=s;if(!e.Lang.isNumber(l)||!e.Lang.isNumber(c)||l<0||c<0)f=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4,l=f,c=f;e.Lang.isNumber(a)||e.error(t+"Invalid rotation detected."),this.pinch(n,r,l,c,o,u,a)},pinch:function(n,r,i,s,o,a,f){var g,y,b=u,w,E=0,S=i,x=s,T,N,C,k,L,A,O,M,_,D={start:[],end:[]},P={start:[],end:[]},H,B;r=this._calculateDefaultPoint(r),(!e.Lang.isNumber(S)||!e.Lang.isNumber(x)||S<0||x<0)&&e.error(t+"Invalid startRadius and endRadius detected.");if(!e.Lang.isNumber(o)||o<=0)o=l.DURATION_PINCH;if(!e.Lang.isNumber(a))a=0;else{a%=360;while(a<0)a+=360}e.Lang.isNumber(f)||(f=0),e.AsyncQueue.defaults.timeout=b,g=new e.AsyncQueue,N=r[0],C=r[1],O=a,M=a+f,D.start=[N+S*Math.sin(this._toRadian(O)),C-S*Math.cos(this._toRadian(O))],D.end=[N+x*Math.sin(this._toRadian(M)),C-x*Math.cos(this._toRadian(M))],P.start=[N-S*Math.sin(this._toRadian(O)),C+S*Math.cos(this._toRadian(O))],P.end=[N-x*Math.sin(this._toRadian(M)),C+x*Math.cos(this._toRadian(M))],k=1,L=s/i,g.add({fn:function(){var t,n,r,i;t={pageX:D.start[0],pageY:D.start[1],clientX:D.start[0],clientY:D.start[1]},n={pageX:P.start[0],pageY:P.start[1],clientX:P.start[0],clientY:P.start[1]},i=this._createTouchList([e.merge({identifier:E++},t),e.merge({identifier:E++},n)]),r={pageX:(D.start[0]+P.start[0])/2,pageY:(D.start[0]+P.start[1])/2,clientX:(D.start[0]+P.start[0])/2,clientY:(D.start[0]+P.start[1])/2},this._simulateEvent(this.target,c,e.merge({touches:i,targetTouches:i,changedTouches:i,scale:k,rotation:O},r)),e.UA.ios>=2&&this._simulateEvent(this.target,d,e.merge({scale:k,rotation:O},r))},timeout:0,context:this}),H=Math.floor(o/b),T=(x-S)/H,A=(L-k)/H,_=(M-O)/H,B=function(t){var n=S+T*t,r=N+n*Math.sin(this._toRadian(O+_*t)),i=C-n*Math.cos(this._toRadian(O+_*t)),s=N-n*Math.sin(this._toRadian(O+_*t)),o=C+n*Math.cos(this._toRadian(O+_*t)),u=(r+s)/2,a=(i+o)/2,f,l,c,p;f={pageX:r,pageY:i,clientX:r,clientY:i},l={pageX:s,pageY:o,clientX:s,clientY:o},p=this._createTouchList([e.merge({identifier:E++},f),e.merge({identifier:E++},l)]),c={pageX:u,pageY:a,clientX:u,clientY:a},this._simulateEvent(this.target,h,e.merge({touches:p,targetTouches:p,changedTouches:p,scale:k+A*t,rotation:O+_*t},c)),e.UA.ios>=2&&this._simulateEvent(this.target,v,e.merge({scale:k+A*t,rotation:O+_*t},c))};for(y=0;y<H;y++)g.add({fn:B,args:[y],context:this});g.add({fn:function(){var t=this._getEmptyTouchList(),n,r,i,s;n={pageX:D.end[0],pageY:D.end[1],clientX:D.end[0],clientY:D.end[1]},r={pageX:P.end[0],pageY:P.end[1],clientX:P.end[0],clientY:P.end[1]},s=this._createTouchList([e.merge({identifier:E++},n),e.merge({identifier:E++},r)]),i={pageX:(D.end[0]+P.end[0])/2,pageY:(D.end[0]+P.end[1])/2,clientX:(D.end[0]+P.end[0])/2,clientY:(D.end[0]+P.end[1])/2},e.UA.ios>=2&&this._simulateEvent(this.target,m,e.merge({scale:L,rotation:M},i)),this._simulateEvent(this.target,p,e.merge({touches:t,targetTouches:t,changedTouches:s,scale:L,rotation:M},i))},context:this}),n&&e.Lang.isFunction(n)&&g.add({fn:n,context:this.node}),g.run()},tap:function(t,r,i,s,o){var u=new e.AsyncQueue,a=this._getEmptyTouchList(),f,h,d,v,m;r=this._calculateDefaultPoint(r);if(!e.Lang.isNumber(i)||i<1)i=1;e.Lang.isNumber(s)||(s=l.HOLD_TAP),e.Lang.isNumber(o)||(o=l.DELAY_TAP),h={pageX:r[0],pageY:r[1],clientX:r[0],clientY:r[1]},f=this._createTouchList([e.merge({identifier:0},h)]),v=function(){this._simulateEvent(this.target,c,e.merge({touches:f,targetTouches:f,changedTouches:f},h))},m=function(){this._simulateEvent(this.target,p,e.merge({touches:a,targetTouches:a,changedTouches:f},h))};for(d=0;d<i;d++)u.add({fn:v,context:this,timeout:d===0?0:o}),u.add({fn:m,context:this,timeout:s});i>1&&!n&&u.add({fn:function(){this._simulateEvent(this.target,E,h)},context:this}),t&&e.Lang.isFunction(t)&&u.add({fn:t,context:this.node}),u.run()},flick:function(n,r,i,s,o){var u;r=this._calculateDefaultPoint(r),e.Lang.isString(i)?(i=i.toLowerCase(),i!==S&&i!==x&&e.error(t+"(flick): Only x or y axis allowed")):i=S,e.Lang.isNumber(s)||(s=l.DISTANCE_FLICK),e.Lang.isNumber(o)?o>l.MAX_DURATION_FLICK&&(o=l.MAX_DURATION_FLICK):o=l.DURATION_FLICK,Math.abs(s)/o<l.MIN_VELOCITY_FLICK&&(o=Math.abs(s)/l.MIN_VELOCITY_FLICK),u={start:e.clone(r),end:[i===S?r[0]+s:r[0],i===x?r[1]+s:r[1]]},this._move(n,u,o)},move:function(t,n,r){var i;e.Lang.isObject(n)?(e.Lang.isArray(n.point)?n.point=this._calculateDefaultPoint(n.point):n.point=this._calculateDefaultPoint([]),e.Lang.isNumber(n.xdist)||(n.xdist=l.DISTANCE_MOVE),e.Lang.isNumber(n.ydist)||(n.ydist=0)):n={point:this._calculateDefaultPoint([]),xdist:l.
DISTANCE_MOVE,ydist:0},e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,i={start:e.clone(n.point),end:[n.point[0]+n.xdist,n.point[1]+n.ydist]},this._move(t,i,r)},_move:function(t,n,r){var i,s,o=u,d,v,m,g=0,y;e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,e.Lang.isObject(n)?(e.Lang.isArray(n.start)||(n.start=[a,f]),e.Lang.isArray(n.end)||(n.end=[a+l.DISTANCE_MOVE,f])):n={start:[a,f],end:[a+l.DISTANCE_MOVE,f]},e.AsyncQueue.defaults.timeout=o,i=new e.AsyncQueue,i.add({fn:function(){var t={pageX:n.start[0],pageY:n.start[1],clientX:n.start[0],clientY:n.start[1]},r=this._createTouchList([e.merge({identifier:g++},t)]);this._simulateEvent(this.target,c,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),d=Math.floor(r/o),v=(n.end[0]-n.start[0])/d,m=(n.end[1]-n.start[1])/d,y=function(t){var r=n.start[0]+v*t,i=n.start[1]+m*t,s={pageX:r,pageY:i,clientX:r,clientY:i},o=this._createTouchList([e.merge({identifier:g++},s)]);this._simulateEvent(this.target,h,e.merge({touches:o,targetTouches:o,changedTouches:o},s))};for(s=0;s<d;s++)i.add({fn:y,args:[s],context:this});i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,h,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._getEmptyTouchList(),i=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,p,e.merge({touches:r,targetTouches:r,changedTouches:i},t))},context:this}),t&&e.Lang.isFunction(t)&&i.add({fn:t,context:this.node}),i.run()},_getEmptyTouchList:function(){return o||(o=this._createTouchList([])),o},_createTouchList:function(n){var r=[],i,o=this;return!!n&&e.Lang.isArray(n)?e.UA.android&&e.UA.android>=4||e.UA.ios&&e.UA.ios>=2?(e.each(n,function(t){t.identifier||(t.identifier=0),t.pageX||(t.pageX=0),t.pageY||(t.pageY=0),t.screenX||(t.screenX=0),t.screenY||(t.screenY=0),r.push(s.createTouch(e.config.win,o.target,t.identifier,t.pageX,t.pageY,t.screenX,t.screenY))}),i=s.createTouchList.apply(s,r)):e.UA.ios&&e.UA.ios<2?e.error(t+": No touch event simulation framework present."):(i=[],e.each(n,function(e){e.identifier||(e.identifier=0),e.clientX||(e.clientX=0),e.clientY||(e.clientY=0),e.pageX||(e.pageX=0),e.pageY||(e.pageY=0),e.screenX||(e.screenX=0),e.screenY||(e.screenY=0),i.push({target:o.target,identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}),i.item=function(e){return i[e]}):e.error(t+": Invalid touchPoints passed"),i},_simulateEvent:function(t,r,s){var o;i[r]?n?e.Event.simulate(t,r,s):this._isSingleTouch(s.touches,s.targetTouches,s.changedTouches)?(r={touchstart:b,touchmove:y,touchend:g}[r],s.button=0,s.relatedTarget=null,o=r===g?s.changedTouches:s.touches,s=e.mix(s,{screenX:o.item(0).screenX,screenY:o.item(0).screenY,clientX:o.item(0).clientX,clientY:o.item(0).clientY},!0),e.Event.simulate(t,r,s),r==g&&e.Event.simulate(t,w,s)):e.error("_simulateEvent(): Event '"+r+"' has multi touch objects that can't be simulated in your platform."):e.Event.simulate(t,r,s)},_isSingleTouch:function(e,t,n){return e&&e.length<=1&&t&&t.length<=1&&n&&n.length<=1}},e.GestureSimulation=T,e.GestureSimulation.defaults=l,e.GestureSimulation.GESTURES=r,e.Event.simulateGesture=function(n,i,s,o){n=e.one(n);var u=new e.GestureSimulation(n);i=i.toLowerCase(),!o&&e.Lang.isFunction(s)&&(o=s,s={}),s=s||{};if(r[i])switch(i){case"tap":u.tap(o,s.point,s.times,s.hold,s.delay);break;case"doubletap":u.tap(o,s.point,2);break;case"press":e.Lang.isNumber(s.hold)?s.hold<l.MIN_HOLD_PRESS?s.hold=l.MIN_HOLD_PRESS:s.hold>l.MAX_HOLD_PRESS&&(s.hold=l.MAX_HOLD_PRESS):s.hold=l.HOLD_PRESS,u.tap(o,s.point,1,s.hold);break;case"move":u.move(o,s.path,s.duration);break;case"flick":u.flick(o,s.point,s.axis,s.distance,s.duration);break;case"pinch":u.pinch(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation);break;case"rotate":u.rotate(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation)}else e.error(t+": Not a supported gesture simulation: "+i)}},"patched-v3.11.0",{requires:["async-queue","event-simulate","node-screen"]});YUI.add("file-html5",function(e,t){var n=e.Lang,r=e.bind,i=e.config.win,s=function(e){var t=null;s.isValidFile(e)?t=e:s.isValidFile(e.file)?t=e.file:t=!1,s.superclass.constructor.apply(this,arguments),t&&s.canUpload()&&(this.get("file")||this._set("file",t),this.get("name")||this._set("name",t.name||t.fileName),this.get("size")!=(t.size||t.fileSize)&&this._set("size",t.size||t.fileSize),this.get("type")||this._set("type",t.type),t.hasOwnProperty("lastModifiedDate")&&!this.get("dateModified")&&this._set("dateModified",t.lastModifiedDate))};e.extend(s,e.Base,{initializer:function(t){this.get("id")||this._set("id",e.guid("file"))},_uploadEventHandler:function(e){var t=this.get("xhr");switch(e.type){case"progress":this.fire("uploadprogress",{originEvent:e,bytesLoaded:e.loaded,bytesTotal:this.get("size"),percentLoaded:Math.min(100,Math.round(1e4*e.loaded/this.get("size"))/100)}),this._set("bytesUploaded",e.loaded);break;case"load":if(t.status>=200&&t.status<=299){this.fire("uploadcomplete",{originEvent:e,data:e.target.responseText});var n=t.upload,r=this.get("boundEventHandler");n.removeEventListener("progress",r),n.removeEventListener("error",r),n.removeEventListener("abort",r),t.removeEventListener("load",r),t.removeEventListener("error",r),t.removeEventListener("readystatechange",r),this._set("xhr",null)}else this.fire("uploaderror",{originEvent:e,status:t.status,statusText:t.statusText,source:"http"});break;case"error":this.fire("uploaderror",{originEvent:e,status:t.status,statusText:t.statusText,source:"io"});break;case"abort":this.fire("uploadcancel",{originEvent:e});break;case"readystatechange":this.fire("readystatechange",{readyState:e.target.readyState,originEvent:e})}},startUpload:function(t,n,i){this._set("bytesUploaded",0),this._set("xhr",new XMLHttpRequest),this._set("boundEventHandler",r(this._uploadEventHandler,this));var s=new FormData,o=i||"Filedata",u=this.get("xhr"),a=this.get("xhr").upload,f=this.get("boundEventHandler");e.each(n,function(e,t){s.append(t,e)}),s.append(o,this.get("file")),u.addEventListener("loadstart",f,!1),a.addEventListener("progress",f,!1),u.addEventListener("load",f,!1),u.addEventListener("error",f,!1),a.addEventListener("error",f,!1),a.addEventListener("abort",f,!1),u.addEventListener("abort",f,!1),u.addEventListener("loadend",f,!1),u.addEventListener("readystatechange",f,!1),u.open("POST",t,!0),u.withCredentials=this.get("xhrWithCredentials"),e.each(this.get("xhrHeaders"),function(e,t){u.setRequestHeader(t,e)}),u.send(s),this.fire("uploadstart",{xhr:u})},cancelUpload:function(){this.get("xhr").abort()}},{NAME:"file",TYPE:"html5",ATTRS:{id:{writeOnce:"initOnly",value:null},size:{writeOnce:"initOnly",value:0},name:{writeOnce:"initOnly",value:null},dateCreated:{writeOnce:"initOnly",value:null},dateModified:{writeOnce:"initOnly",value:null},bytesUploaded:{readOnly:!0,value:0},type:{writeOnce:"initOnly",value:null},file:{writeOnce:"initOnly",value:null},xhr:{readOnly:!0,value:null},xhrHeaders:{value:{}},xhrWithCredentials:{value:!0},boundEventHandler:{readOnly:!0,value:null}},isValidFile:function(e){return i&&i.File&&e instanceof File},canUpload:function(){return i&&i.FormData&&i.XMLHttpRequest}}),e.FileHTML5=s},"patched-v3.11.0",{requires:["base"]});YUI.add("uploader-queue",function(e,t){var n=function(){this.queuedFiles=[],this.uploadRetries={},this.numberOfUploads=0,this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this.totalBytes=0,n.superclass.constructor.apply(this,arguments)};e.extend(n,e.Base,{_currentState:n.STOPPED,initializer:function(){},_uploadStartHandler:function(e){var t=e;t.file=e.target,t.originEvent=e,this.fire("uploadstart",t)},_uploadErrorHandler:function(e){var t=this.get("errorAction"),r=e,i,s;r.file=e.target,r.originEvent=e,this.numberOfUploads-=1,delete this.currentFiles[e.target.get("id")],this._detachFileEvents(e.target),e.target.cancelUpload(),t===n.STOP?this.pauseUpload():t===n.RESTART_ASAP?(i=e.target.get("id"),s=this.uploadRetries[i]||0,s<this.get("retryCount")&&(this.uploadRetries[i]=s+1,this.addToQueueTop(e.target)),this._startNextFile()):t===n.RESTART_AFTER&&(i=e.target.get("id"),s=this.uploadRetries[i]||0,s<this.get("retryCount")&&(this.uploadRetries[i]=s+1,this.addToQueueBottom(e.target)),this._startNextFile()),this.fire("uploaderror",r)},_startNextFile:function(){if(this.queuedFiles.length>0){var e=this.queuedFiles.shift(),t=e.get("id"),n=this.get("perFileParameters"),r=n.hasOwnProperty(t)?n[t]:n;this.currentUploadedByteValues[t]=0,e.on("uploadstart",this._uploadStartHandler,this),e.on("uploadprogress",this._uploadProgressHandler,this),e.on("uploadcomplete",this._uploadCompleteHandler,this),e.on("uploaderror",this._uploadErrorHandler,this),e.on("uploadcancel",this._uploadCancelHandler,this),e.set("xhrHeaders",this.get("uploadHeaders")),e.set("xhrWithCredentials",this.get("withCredentials")),e.startUpload(this.get("uploadURL"),r,this.get("fileFieldName")),this._registerUpload(e)}},_registerUpload:function(e){this.numberOfUploads+=1,this.currentFiles[e.get("id")]=e},_unregisterUpload:function(e){this.numberOfUploads>0&&(this.numberOfUploads-=1),delete this.currentFiles[e.get("id")],delete this.uploadRetries[e.get("id")],this._detachFileEvents(e)},_detachFileEvents:function(e){e.detach("uploadstart",this._uploadStartHandler),e.detach("uploadprogress",this._uploadProgressHandler),e.detach("uploadcomplete",this._uploadCompleteHandler),e.detach("uploaderror",this._uploadErrorHandler),e.detach("uploadcancel",this._uploadCancelHandler)},_uploadCompleteHandler:function(t){this._unregisterUpload(t.target),this.totalBytesUploaded+=t.target.get("size"),delete this.currentUploadedByteValues[t.target.get("id")],this.queuedFiles.length>0&&this._currentState===n.UPLOADING&&this._startNextFile();var r=t,i=this.totalBytesUploaded,s=Math.min(100,Math.round(1e4*i/this.totalBytes)/100);r.file=t.target,r.originEvent=t,e.each(this.currentUploadedByteValues,function(e){i+=e}),this.fire("totaluploadprogress",{bytesLoaded:i,bytesTotal:this.totalBytes,percentLoaded:s}),this.fire("uploadcomplete",r),this.queuedFiles.length===0&&this.numberOfUploads<=0&&(this.fire("alluploadscomplete"),this._currentState=n.STOPPED)},_uploadCancelHandler:function(e){var t=e;t.originEvent=e,t.file=e.target,this.fire("uploadcacel",t)},_uploadProgressHandler:function(t){this.currentUploadedByteValues[t.target.get("id")]=t.bytesLoaded;var n=t,r=this.totalBytesUploaded,i=Math.min(100,Math.round(1e4*r/this.totalBytes)/100);n.originEvent=t,n.file=t.target,this.fire("uploadprogress",n),e.each(this.currentUploadedByteValues,function(e){r+=e}),this.fire("totaluploadprogress",{bytesLoaded:r,bytesTotal:this.totalBytes,percentLoaded:i})},startUpload:function(){this.queuedFiles=this.get("fileList").slice(0),this.numberOfUploads=0,this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this._currentState=n.UPLOADING;while(this.numberOfUploads<this.get("simUploads")&&this.queuedFiles.length>0)this._startNextFile()},pauseUpload:function(){this._currentState=n.STOPPED},restartUpload:function(){this._currentState=n.UPLOADING;while(this.numberOfUploads<this.get("simUploads"))this._startNextFile()},forceReupload:function(e){var t=e.get("id");this.currentFiles.hasOwnProperty(t)&&(e.cancelUpload(),this._unregisterUpload(e),this.addToQueueTop(e),this._startNextFile())},addToQueueTop:function(e){this.queuedFiles.unshift(e)},addToQueueBottom:function(e){this.queuedFiles.push(e)},cancelUpload:function(e){var t,r,i;if(e){t=e.get("id");if(this.currentFiles[t])this.currentFiles[t].cancelUpload(),this._unregisterUpload(this.currentFiles[t]),this._currentState===n.UPLOADING&&this._startNextFile();else for(r=0,len=this.queuedFiles.length;r<len;r++)if(this.queuedFiles[r].get("id")===t){this.queuedFiles.splice(r,1);break}}else{for(i in this.currentFiles)this.currentFiles[i].cancelUpload(),this._unregisterUpload(this.currentFiles[i]);this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this.fire("alluploadscancelled"),this._currentState=n.STOPPED}}},{CONTINUE:"continue",STOP:"stop",RESTART_ASAP:"restartasap",RESTART_AFTER:"restartafter",STOPPED:"stopped",UPLOADING:"uploading",NAME:"uploaderqueue",ATTRS:{simUploads:{value:2,validator:function(e){return e>=1&&e<=5}},errorAction:{value:"continue",validator:function(e){return e===n.CONTINUE||e===n.STOP||e===n.RESTART_ASAP||e===n.RESTART_AFTER}},bytesUploaded:{readOnly:!0,value:0},bytesTotal:{readOnly:!0,value:0},fileList:{value:[],lazyAdd:!1,setter:function(t){var n=t;return e.Array.each(n,function(e){this.totalBytes+=e.get("size")},this),t}},fileFieldName:{value:"Filedata"},uploadURL:{value:""},uploadHeaders:{value:{}},withCredentials:{value:!0},perFileParameters:{value:{}},retryCount:{value:3}}}),e.namespace("Uploader"),e.Uploader.Queue=n},"patched-v3.11.0",{requires:["base"]});YUI.add("uploader-html5",function(e,t){function i(){i.superclass.constructor.apply(this,arguments)}var n=e.Lang.sub,r=e.Uploader.Queue;e.UploaderHTML5=e.extend(i,e.Widget,{_fileInputField:null,_buttonBinding:null,queue:null,initializer:function(){this._fileInputField=null,this.queue=null,this._buttonBinding=null,this._fileList=[],this.publish("fileselect"),this.publish("uploadstart"),this.publish("fileuploadstart"),this.publish("uploadprogress"),this.publish("totaluploadprogress"),this.publish("uploadcomplete"),this.publish("alluploadscomplete"),this.publish("uploaderror"),this.publish("dragenter"),this.publish("dragover"),this.publish("dragleave"),this.publish("drop")},renderUI:function(){var t=this.get("contentBox"),n=this.get("selectFilesButton");n.setStyles({width:"100%",height:"100%"}),t.append(n),this._fileInputField=e.Node.create(i.HTML5FILEFIELD_TEMPLATE),t.append(this._fileInputField)},bindUI:function(){this._bindSelectButton(),this._setMultipleFiles(),this._setFileFilters(),this._bindDropArea(),this._triggerEnabled(),this.after("multipleFilesChange",this._setMultipleFiles,this),this.after("fileFiltersChange",this._setFileFilters,this),this.after("enabledChange",this._triggerEnabled,this),this.after("selectFilesButtonChange",this._bindSelectButton,this),this.after("dragAndDropAreaChange",this._bindDropArea,this),this.after("tabIndexChange",function(){this.get("selectFilesButton").set("tabIndex",this.get("tabIndex"))},this),this._fileInputField.on("change",this._updateFileList,this),this.get("selectFilesButton").set("tabIndex",this.get("tabIndex"))},_rebindFileField:function(){this._fileInputField.remove(!0),this._fileInputField=e.Node.create(i.HTML5FILEFIELD_TEMPLATE),this.get("contentBox").append(this._fileInputField),this._fileInputField.on("change",this._updateFileList,this),this._setMultipleFiles(),this._setFileFilters()},_bindDropArea:function(e){var t=e||{prevVal:null},n=this.get("dragAndDropArea");t.prevVal!==null&&(t.prevVal.detach("drop",this._ddEventHandler),t.prevVal.detach("dragenter",this._ddEventHandler),t.prevVal.detach("dragover",this._ddEventHandler),t.prevVal.detach("dragleave",this._ddEventHandler)),n!==null&&(n.on("drop",this._ddEventHandler,this),n.on("dragenter",this._ddEventHandler,this),n.on("dragover",this._ddEventHandler,this),n.on("dragleave",this._ddEventHandler,this))},_bindSelectButton:function(){this._buttonBinding=this.get("selectFilesButton").on("click",this.openFileSelectDialog,this)},_ddEventHandler:function(t){t.stopPropagation(),t.preventDefault();if(e.Array.indexOf(t._event.dataTransfer.types,"Files")>-1)switch(t.type){case"dragenter":this.fire("dragenter");break;case"dragover":this.fire("dragover");break;case"dragleave":this.fire("dragleave");break;case"drop":var n=t._event.dataTransfer.files,r=[],i=this.get("fileFilterFunction"),s;i?e.each(n,function(t){var n=new e.FileHTML5(t);i(n)&&r.push(n)}):e.each(n,function(t){r.push(new e.FileHTML5(t))}),r.length>0&&(s=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?s.concat(r):r),this.fire("fileselect",{fileList:r})),this.fire("drop",{fileList:r})}},_setButtonClass:function(e,t){t?this.get("selectFilesButton").addClass(this.get("buttonClassNames")[e]):this.get("selectFilesButton").removeClass(this.get("buttonClassNames")[e])},_setMultipleFiles:function(){this.get("multipleFiles")===!0?this._fileInputField.set("multiple","multiple"):this._fileInputField.set("multiple","")},_setFileFilters:function(){this.get("fileFilters").length>0?this._fileInputField.set("accept",this.get("fileFilters").join(",")):this._fileInputField.set("accept","")},_triggerEnabled:function(){this.get("enabled")&&this._buttonBinding===null?(this._bindSelectButton(),this._setButtonClass("disabled",!1),this.get("selectFilesButton").setAttribute("aria-disabled","false")):!this.get("enabled")&&this._buttonBinding&&(this._buttonBinding.detach(),this._buttonBinding=null,this._setButtonClass("disabled",!0),this.get("selectFilesButton").setAttribute("aria-disabled","true"))},_getFileList:function(){return this._fileList.concat()},_setFileList:function(e){return this._fileList=e.concat(),this._fileList.concat()},_updateFileList:function(t){var n=t.target.getDOMNode().files,r=[],i=this.get("fileFilterFunction"),s;i?e.each(n,function(t){var n=new e.FileHTML5(t);i(n)&&r.push(n)}):e.each(n,function(t){r.push(new e.FileHTML5(t))}),r.length>0&&(s=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?s.concat(r):r),this.fire("fileselect",{fileList:r})),this._rebindFileField()},_uploadEventHandler:function(e){switch(e.type){case"file:uploadstart":this.fire("fileuploadstart",e);break;case"file:uploadprogress":this.fire("uploadprogress",e);break;case"uploaderqueue:totaluploadprogress":this.fire("totaluploadprogress",e);break;case"file:uploadcomplete":this.fire("uploadcomplete",e);break;case"uploaderqueue:alluploadscomplete":this.queue=null,this.fire("alluploadscomplete",e);break;case"file:uploaderror":case"uploaderqueue:uploaderror":this.fire("uploaderror",e);break;case"file:uploadcancel":case"uploaderqueue:uploadcancel":this.fire("uploadcancel",e)}},openFileSelectDialog:function(){var e=this._fileInputField.getDOMNode();e.click&&e.click()},upload:function(t,n,r){var i=n||this.get("uploadURL"),s=r||this.get("postVarsPerFile"),o=t.get("id");s=s.hasOwnProperty(o)?s[o]:s,t instanceof e.FileHTML5&&(t.on("uploadstart",this._uploadEventHandler,this),t.on("uploadprogress",this._uploadEventHandler,this),t.on("uploadcomplete",this._uploadEventHandler,this),t.on("uploaderror",this._uploadEventHandler,this),t.on("uploadcancel",this._uploadEventHandler,this),t.startUpload(i,s,this.get("fileFieldName")))},uploadAll:function(e,t){this.uploadThese(this.get("fileList"),e,t)},uploadThese:function(t,n,i){if(!this.queue){var s=n||this.get("uploadURL"),o=i||this.get("postVarsPerFile");this.queue=new r({simUploads:this.get("simLimit"),errorAction:this.get("errorAction"),fileFieldName:this.get("fileFieldName"),fileList:t,uploadURL:s,perFileParameters
:o,retryCount:this.get("retryCount"),uploadHeaders:this.get("uploadHeaders"),withCredentials:this.get("withCredentials")}),this.queue.on("uploadstart",this._uploadEventHandler,this),this.queue.on("uploadprogress",this._uploadEventHandler,this),this.queue.on("totaluploadprogress",this._uploadEventHandler,this),this.queue.on("uploadcomplete",this._uploadEventHandler,this),this.queue.on("alluploadscomplete",this._uploadEventHandler,this),this.queue.on("uploadcancel",this._uploadEventHandler,this),this.queue.on("uploaderror",this._uploadEventHandler,this),this.queue.startUpload(),this.fire("uploadstart")}else this.queue._currentState===r.UPLOADING&&(this.queue.set("perFileParameters",this.get("postVarsPerFile")),e.each(t,function(e){this.queue.addToQueueBottom(e)},this))}},{HTML5FILEFIELD_TEMPLATE:"<input type='file' style='visibility:hidden; width:0px; height: 0px;'>",SELECT_FILES_BUTTON:'<button type="button" class="yui3-button" role="button" aria-label="{selectButtonLabel}" tabindex="{tabIndex}">{selectButtonLabel}</button>',TYPE:"html5",NAME:"uploader",ATTRS:{appendNewFiles:{value:!0},buttonClassNames:{value:{hover:"yui3-button-hover",active:"yui3-button-active",disabled:"yui3-button-disabled",focus:"yui3-button-selected"}},dragAndDropArea:{value:null,setter:function(t){return e.one(t)}},enabled:{value:!0},errorAction:{value:"continue",validator:function(e){return e===r.CONTINUE||e===r.STOP||e===r.RESTART_ASAP||e===r.RESTART_AFTER}},fileFilters:{value:[]},fileFilterFunction:{value:null},fileFieldName:{value:"Filedata"},fileList:{value:[],getter:"_getFileList",setter:"_setFileList"},multipleFiles:{value:!1},postVarsPerFile:{value:{}},selectButtonLabel:{value:"Select Files"},selectFilesButton:{valueFn:function(){return e.Node.create(n(e.UploaderHTML5.SELECT_FILES_BUTTON,{selectButtonLabel:this.get("selectButtonLabel"),tabIndex:this.get("tabIndex")}))}},simLimit:{value:2,validator:function(e){return e>=1&&e<=5}},uploadURL:{value:""},uploadHeaders:{value:{}},withCredentials:{value:!0},retryCount:{value:3}}}),e.UploaderHTML5.Queue=r},"patched-v3.11.0",{requires:["widget","node-event-simulate","file-html5","uploader-queue"]});YUI.add("swfdetect",function(e,t){function c(e){return parseInt(e,10)}function h(e){i.isNumber(c(e[0]))&&(r.flashMajor=e[0]),i.isNumber(c(e[1]))&&(r.flashMinor=e[1]),i.isNumber(c(e[2]))&&(r.flashRev=e[2])}var n=0,r=e.UA,i=e.Lang,s="ShockwaveFlash",o,u,a,f,l;if(r.gecko||r.webkit||r.opera){if(o=navigator.mimeTypes["application/x-shockwave-flash"])if(u=o.enabledPlugin)a=u.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."),h(a)}else if(r.ie){try{f=new ActiveXObject(s+"."+s+".6"),f.AllowScriptAccess="always"}catch(p){f!==null&&(n=6)}if(n===0)try{l=new ActiveXObject(s+"."+s),a=l.GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(","),h(a)}catch(d){}}e.SWFDetect={getFlashVersion:function(){return String(r.flashMajor)+"."+String(r.flashMinor)+"."+String(r.flashRev)},isFlashVersionAtLeast:function(e,t,n){var i=c(r.flashMajor),s=c(r.flashMinor),o=c(r.flashRev);return e=c(e||0),t=c(t||0),n=c(n||0),e===i?t===s?n<=o:t<s:e<i}}},"patched-v3.11.0",{requires:["yui-base"]});YUI.add("swf",function(e,t){function d(t,n,d){this._id=e.guid("yuiswf");var v=this._id,m=o.one(t),d=d||{},g=d.version||l,y=(g+"").split("."),b=r.isFlashVersionAtLeast(parseInt(y[0],10),parseInt(y[1],10),parseInt(y[2],10)),w=r.isFlashVersionAtLeast(8,0,0),E=w&&!b&&d.useExpressInstall,S=E?c:n,x="<object ",T,N,C="yId="+e.id+"&YUISwfId="+v+"&YUIBridgeCallback="+h+"&allowedDomain="+document.location.hostname;e.SWF._instances[v]=this;if(m&&(b||E)&&S){x+='id="'+v+'" ',s.ie?x+='classid="'+a+'" ':x+='type="'+f+'" data="'+u.html(S)+'" ',T="100%",N="100%",x+='width="'+T+'" height="'+N+'">',s.ie&&(x+='<param name="movie" value="'+u.html(S)+'"/>');for(var k in d.fixedAttributes)p.hasOwnProperty(k)&&(x+='<param name="'+u.html(k)+'" value="'+u.html(d.fixedAttributes[k])+'"/>');for(var L in d.flashVars){var A=d.flashVars[L];i.isString(A)&&(C+="&"+u.html(L)+"="+u.html(encodeURIComponent(A)))}C&&(x+='<param name="flashVars" value="'+C+'"/>'),x+="</object>",m.set("innerHTML",x),this._swf=o.one("#"+v)}else{var O={};O.type="wrongflashversion",this.publish("wrongflashversion",{fireOnce:!0}),this.fire("wrongflashversion",O)}}var n=e.Event,r=e.SWFDetect,i=e.Lang,s=e.UA,o=e.Node,u=e.Escape,a="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",f="application/x-shockwave-flash",l="10.0.22",c="http://fpdownload.macromedia.com/pub/flashplayer/update/current/swf/autoUpdater.swf?"+Math.random(),h="SWF.eventHandler",p={align:"",allowFullScreen:"",allowNetworking:"",allowScriptAccess:"",base:"",bgcolor:"",loop:"",menu:"",name:"",play:"",quality:"",salign:"",scale:"",tabindex:"",wmode:""};d._instances=d._instances||{},d.eventHandler=function(e,t){d._instances[e]._eventHandler(t)},d.prototype={_eventHandler:function(e){e.type==="swfReady"?(this.publish("swfReady",{fireOnce:!0}),this.fire("swfReady",e)):e.type!=="log"&&this.fire(e.type,e)},callSWF:function(e,t){return t||(t=[]),this._swf._node[e]?this._swf._node[e].apply(this._swf._node,t):null},toString:function(){return"SWF "+this._id}},e.augment(d,e.EventTarget),e.SWF=d},"patched-v3.11.0",{requires:["event-custom","node","swfdetect","escape"]});YUI.add("file-flash",function(e,t){var n=function(e){n.superclass.constructor.apply(this,arguments)};e.extend(n,e.Base,{initializer:function(t){this.get("id")||this._set("id",e.guid("file"))},_swfEventHandler:function(e){if(e.id===this.get("id"))switch(e.type){case"uploadstart":this.fire("uploadstart",{uploader:this.get("uploader")});break;case"uploadprogress":this.fire("uploadprogress",{originEvent:e,bytesLoaded:e.bytesLoaded,bytesTotal:e.bytesTotal,percentLoaded:Math.min(100,Math.round(1e4*e.bytesLoaded/e.bytesTotal)/100)}),this._set("bytesUploaded",e.bytesLoaded);break;case"uploadcomplete":this.fire("uploadfinished",{originEvent:e});break;case"uploadcompletedata":this.fire("uploadcomplete",{originEvent:e,data:e.data});break;case"uploadcancel":this.fire("uploadcancel",{originEvent:e});break;case"uploaderror":this.fire("uploaderror",{originEvent:e,status:e.status,statusText:e.message,source:e.source})}},startUpload:function(e,t,n){if(this.get("uploader")){var r=this.get("uploader"),i=n||"Filedata",s=this.get("id"),o=t||null;this._set("bytesUploaded",0),r.on("uploadstart",this._swfEventHandler,this),r.on("uploadprogress",this._swfEventHandler,this),r.on("uploadcomplete",this._swfEventHandler,this),r.on("uploadcompletedata",this._swfEventHandler,this),r.on("uploaderror",this._swfEventHandler,this),r.callSWF("upload",[s,e,o,i])}},cancelUpload:function(){this.get("uploader")&&(this.get("uploader").callSWF("cancel",[this.get("id")]),this.fire("uploadcancel"))}},{NAME:"file",TYPE:"flash",ATTRS:{id:{writeOnce:"initOnly",value:null},size:{writeOnce:"initOnly",value:0},name:{writeOnce:"initOnly",value:null},dateCreated:{writeOnce:"initOnly",value:null},dateModified:{writeOnce:"initOnly",value:null},bytesUploaded:{readOnly:!0,value:0},type:{writeOnce:"initOnly",value:null},uploader:{writeOnce:"initOnly",value:null}}}),e.FileFlash=n},"patched-v3.11.0",{requires:["base"]});YUI.add("uploader-flash",function(e,t){function i(){i.superclass.constructor.apply(this,arguments)}var n=e.Lang.sub,r=e.Uploader.Queue;e.UploaderFlash=e.extend(i,e.Widget,{_buttonState:"up",_buttonFocus:!1,_swfContainerId:null,_swfReference:null,queue:null,_tabElementBindings:null,initializer:function(){this._swfContainerId=e.guid("uploader"),this._swfReference=null,this.queue=null,this._buttonState="up",this._buttonFocus=null,this._tabElementBindings=null,this._fileList=[],this.publish("fileselect"),this.publish("uploadstart"),this.publish("fileuploadstart"),this.publish("uploadprogress"),this.publish("totaluploadprogress"),this.publish("uploadcomplete"),this.publish("alluploadscomplete"),this.publish("uploaderror"),this.publish("mouseenter"),this.publish("mouseleave"),this.publish("mousedown"),this.publish("mouseup"),this.publish("click")},renderUI:function(){var t=this.get("boundingBox"),r=this.get("contentBox"),s=this.get("selectFilesButton"),o=e.Node.create(n(i.FLASH_CONTAINER,{swfContainerId:this._swfContainerId})),u={version:"10.0.45",fixedAttributes:{wmode:"transparent",allowScriptAccess:"always",allowNetworking:"all",scale:"noscale"}};t.setStyle("position","relative"),s.setStyles({width:"100%",height:"100%"}),r.append(s),r.append(o),this._swfReference=new e.SWF(o,this.get("swfURL"),u)},bindUI:function(){this._swfReference.on("swfReady",function(){this._setMultipleFiles(),this._setFileFilters(),this._triggerEnabled(),this._attachTabElements(),this.after("multipleFilesChange",this._setMultipleFiles,this),this.after("fileFiltersChange",this._setFileFilters,this),this.after("enabledChange",this._triggerEnabled,this),this.after("tabElementsChange",this._attachTabElements)},this),this._swfReference.on("fileselect",this._updateFileList,this),this._swfReference.on("mouseenter",function(){this.fire("mouseenter"),this._setButtonClass("hover",!0),this._buttonState==="down"&&this._setButtonClass("active",!0)},this),this._swfReference.on("mouseleave",function(){this.fire("mouseleave"),this._setButtonClass("hover",!1),this._setButtonClass("active",!1)},this),this._swfReference.on("mousedown",function(){this.fire("mousedown"),this._buttonState="down",this._setButtonClass("active",!0)},this),this._swfReference.on("mouseup",function(){this.fire("mouseup"),this._buttonState="up",this._setButtonClass("active",!1)},this),this._swfReference.on("click",function(){this.fire("click"),this._buttonFocus=!0,this._setButtonClass("focus",!0),e.one("body").focus(),this._swfReference._swf.focus()},this)},_attachTabElements:function(){if(this.get("tabElements")!==null&&this.get("tabElements").from!==null&&this.get("tabElements").to!==null){this._tabElementBindings!==null?(this._tabElementBindings.from.detach(),this._tabElementBindings.to.detach(),this._tabElementBindings.tabback.detach(),this._tabElementBindings.tabforward.detach(),this._tabElementBindings.focus.detach(),this._tabElementBindings.blur.detach()):this._tabElementBindings={};var t=e.one(this.get("tabElements").from),n=e.one(this.get("tabElements").to);this._tabElementBindings.from=t.on("keydown",function(e){e.keyCode===9&&!e.shiftKey&&(e.preventDefault(),this._swfReference._swf.setAttribute("tabindex",0),this._swfReference._swf.setAttribute("role","button"),this._swfReference._swf.setAttribute("aria-label",this.get("selectButtonLabel")),this._swfReference._swf.focus())},this),this._tabElementBindings.to=n.on("keydown",function(e){e.keyCode===9&&e.shiftKey&&(e.preventDefault(),this._swfReference._swf.setAttribute("tabindex",0),this._swfReference._swf.setAttribute("role","button"),this._swfReference._swf.setAttribute("aria-label",this.get("selectButtonLabel")),this._swfReference._swf.focus())},this),this._tabElementBindings.tabback=this._swfReference.on("tabback",function(){this._swfReference._swf.blur(),setTimeout(function(){t.focus()},30)},this),this._tabElementBindings.tabforward=this._swfReference.on("tabforward",function(){this._swfReference._swf.blur(),setTimeout(function(){n.focus()},30)},this),this._tabElementBindings.focus=this._swfReference._swf.on("focus",function(){this._buttonFocus=!0,this._setButtonClass("focus",!0)},this),this._tabElementBindings.blur=this._swfReference._swf.on("blur",function(){this._buttonFocus=!1,this._setButtonClass("focus",!1)},this)}else this._tabElementBindings!==null&&(this._tabElementBindings.from.detach(),this._tabElementBindings.to.detach(),this._tabElementBindings.tabback.detach(),this._tabElementBindings.tabforward.detach(),this._tabElementBindings.focus.detach(),this._tabElementBindings.blur.detach())},_setButtonClass:function(e,t){t?this.get("selectFilesButton").addClass(this.get("buttonClassNames")[e]):this.get("selectFilesButton").removeClass(this.get("buttonClassNames")[e])},_setFileFilters:function(){this._swfReference&&this.get("fileFilters").length>0&&this._swfReference.callSWF("setFileFilters",[this.get("fileFilters")])},_setMultipleFiles:function(){this._swfReference&&this._swfReference.callSWF("setAllowMultipleFiles",[this.get("multipleFiles")])},_triggerEnabled:function(){this.get("enabled")?(this._swfReference.callSWF("enable"),this._swfReference._swf.setAttribute("aria-disabled","false"),this._setButtonClass("disabled",!1)):(this._swfReference.callSWF("disable"),this._swfReference._swf.setAttribute("aria-disabled","true"),this._setButtonClass("disabled",!0))},_getFileList:function(){return this._fileList.concat()},_setFileList:function(e){return this._fileList=e.concat(),this._fileList.concat()},_updateFileList:function(t){e.one("body").focus(),this._swfReference._swf.focus();var n=t.fileList,r=[],i=[],s=this._swfReference,o=this.get("fileFilterFunction"),u;e.each(n,function(e){var t={};t.id=e.fileId,t.name=e.fileReference.name,t.size=e.fileReference.size,t.type=e.fileReference.type,t.dateCreated=e.fileReference.creationDate,t.dateModified=e.fileReference.modificationDate,t.uploader=s,r.push(t)}),o?e.each(r,function(t){var n=new e.FileFlash(t);o(n)&&i.push(n)}):e.each(r,function(t){i.push(new 
e.FileFlash(t))}),i.length>0&&(u=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?u.concat(i):i),this.fire("fileselect",{fileList:i}))},_uploadEventHandler:function(e){switch(e.type){case"file:uploadstart":this.fire("fileuploadstart",e);break;case"file:uploadprogress":this.fire("uploadprogress",e);break;case"uploaderqueue:totaluploadprogress":this.fire("totaluploadprogress",e);break;case"file:uploadcomplete":this.fire("uploadcomplete",e);break;case"uploaderqueue:alluploadscomplete":this.queue=null,this.fire("alluploadscomplete",e);break;case"file:uploaderror":case"uploaderqueue:uploaderror":this.fire("uploaderror",e);break;case"file:uploadcancel":case"uploaderqueue:uploadcancel":this.fire("uploadcancel",e)}},upload:function(t,n,r){var i=n||this.get("uploadURL"),s=r||this.get("postVarsPerFile"),o=t.get("id");s=s.hasOwnProperty(o)?s[o]:s,t instanceof e.FileFlash&&(t.on("uploadstart",this._uploadEventHandler,this),t.on("uploadprogress",this._uploadEventHandler,this),t.on("uploadcomplete",this._uploadEventHandler,this),t.on("uploaderror",this._uploadEventHandler,this),t.on("uploadcancel",this._uploadEventHandler,this),t.startUpload(i,s,this.get("fileFieldName")))},uploadAll:function(e,t){this.uploadThese(this.get("fileList"),e,t)},uploadThese:function(e,t,n){if(!this.queue){var i=t||this.get("uploadURL"),s=n||this.get("postVarsPerFile");this.queue=new r({simUploads:this.get("simLimit"),errorAction:this.get("errorAction"),fileFieldName:this.get("fileFieldName"),fileList:e,uploadURL:i,perFileParameters:s,retryCount:this.get("retryCount")}),this.queue.on("uploadstart",this._uploadEventHandler,this),this.queue.on("uploadprogress",this._uploadEventHandler,this),this.queue.on("totaluploadprogress",this._uploadEventHandler,this),this.queue.on("uploadcomplete",this._uploadEventHandler,this),this.queue.on("alluploadscomplete",this._uploadEventHandler,this),this.queue.on("alluploadscancelled",function(){this.queue=null},this),this.queue.on("uploaderror",this._uploadEventHandler,this),this.queue.startUpload(),this.fire("uploadstart")}}},{FLASH_CONTAINER:'<div id="{swfContainerId}" style="position:absolute; top:0px; left: 0px; margin: 0; padding: 0; border: 0; width:100%; height:100%"></div>',SELECT_FILES_BUTTON:"<button type='button' class='yui3-button' tabindex='-1'>{selectButtonLabel}</button>",TYPE:"flash",NAME:"uploader",ATTRS:{appendNewFiles:{value:!0},buttonClassNames:{value:{hover:"yui3-button-hover",active:"yui3-button-active",disabled:"yui3-button-disabled",focus:"yui3-button-selected"}},enabled:{value:!0},errorAction:{value:"continue",validator:function(e){return e===r.CONTINUE||e===r.STOP||e===r.RESTART_ASAP||e===r.RESTART_AFTER}},fileFilters:{value:[]},fileFilterFunction:{value:null},fileFieldName:{value:"Filedata"},fileList:{value:[],getter:"_getFileList",setter:"_setFileList"},multipleFiles:{value:!1},postVarsPerFile:{value:{}},selectButtonLabel:{value:"Select Files"},selectFilesButton:{valueFn:function(){return e.Node.create(n(e.UploaderFlash.SELECT_FILES_BUTTON,{selectButtonLabel:this.get("selectButtonLabel")}))}},simLimit:{value:2,validator:function(e){return e>=2&&e<=5}},swfURL:{valueFn:function(){var t=e.Env.cdn+"uploader/assets/flashuploader.swf";return e.UA.ie>0?t+"?t="+e.guid("uploader"):t}},tabElements:{value:null},uploadURL:{value:""},retryCount:{value:3}}}),e.UploaderFlash.Queue=r},"patched-v3.11.0",{requires:["swf","widget","base","cssbutton","node","event-custom","file-flash","uploader-queue"]});YUI.add("uploader",function(e,t){var n=e.config.win;n&&n.File&&n.FormData&&n.XMLHttpRequest?e.Uploader=e.UploaderHTML5:e.SWFDetect.isFlashVersionAtLeast(10,0,45)?e.Uploader=e.UploaderFlash:(e.namespace("Uploader"),e.Uploader.TYPE="none")},"patched-v3.11.0",{requires:["uploader-html5","uploader-flash"]});;(function(A, Liferay) {
	var Language = {};

	Language.get = function(key) {
		return key;
	};

	A.use(
		'io-base',
		function(A) {
			Language.get = A.cached(
				function(key, extraParams) {
					var instance = this;

					var url = themeDisplay.getPathContext() + '/language/' + themeDisplay.getLanguageId() + '/' + key + '/';

					if (extraParams) {
						if (typeof extraParams == 'string') {
							url += extraParams;
						}
						else if (Liferay.Util.isArray(extraParams)) {
							url += extraParams.join('/');
						}
					}

					var headers = {
						"X-CSRF-Token": Liferay.authToken
					};

					A.io(
						url,
						{
							headers: headers,
							method: 'GET',
							on: {
								complete: function(i, o) {
									value = o.responseText;
								}
							},
							sync: true
						}
					);

					return value;
				}
			);
		}
	);

	Liferay.Language = Language;
})(AUI(), Liferay);YUI.add("datasource-local",function(e,t){var n=e.Lang,r=function(){r.superclass.constructor.apply(this,arguments)};e.mix(r,{NAME:"dataSourceLocal",ATTRS:{source:{value:null}},_tId:0,transactions:{},issueCallback:function(e,t){var n=e.on||e.callback,r=n&&n.success,i=e.details[0];i.error=e.error||e.response.error,i.error&&(t.fire("error",i),r=n&&n.failure),r&&r(i)}}),e.extend(r,e.Base,{initializer:function(e){this._initEvents()},_initEvents:function(){this.publish("request",{defaultFn:e.bind("_defRequestFn",this),queuable:!0}),this.publish("data",{defaultFn:e.bind("_defDataFn",this),queuable:!0}),this.publish("response",{defaultFn:e.bind("_defResponseFn",this),queuable:!0})},_defRequestFn:function(e){var t=this.get("source"),r=e.details[0];n.isUndefined(t)&&(r.error=new Error("Local source undefined")),r.data=t,this.fire("data",r)},_defDataFn:function(e){var t=e.data,r=e.meta,i={results:n.isArray(t)?t:[t],meta:r?r:{}},s=e.details[0];s.response=i,this.fire("response",s)},_defResponseFn:function(e){r.issueCallback(e,this)},sendRequest:function(e){var t=r._tId++,n;return e=e||{},n=e.on||e.callback,this.fire("request",{tId:t,request:e.request,on:n,callback:n,cfg:e.cfg||{}}),t}}),e.namespace("DataSource").Local=r},"patched-v3.11.0",{requires:["base"]});YUI.add("datasource-io",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)};e.mix(n,{NAME:"dataSourceIO",ATTRS:{io:{value:e.io,cloneDefaultValue:!1},ioConfig:{value:null}}}),e.extend(n,e.DataSource.Local,{initializer:function(e){this._queue={interval:null,conn:null,requests:[]}},successHandler:function(t,n,r){var i=this.get("ioConfig"),s=r.details[0];delete e.DataSource.Local.transactions[r.tId],s.data=n,this.fire("data",s),i&&i.on&&i.on.success&&i.on.success.apply(i.context||e,arguments)},failureHandler:function(t,n,r){var i=this.get("ioConfig"),s=r.details[0];delete e.DataSource.Local.transactions[r.tId],s.error=new Error("IO data failure"),s.data=n,this.fire("data",s),i&&i.on&&i.on.failure&&i.on.failure.apply(i.context||e,arguments)},_queue:null,_defRequestFn:function(t){var n=this.get("source"),r=this.get("io"),i=this.get("ioConfig"),s=t.request,o=e.merge(i,t.cfg,{on:e.merge(i,{success:this.successHandler,failure:this.failureHandler}),context:this,arguments:t});return e.Lang.isString(s)&&(o.method&&o.method.toUpperCase()==="POST"?o.data=o.data?o.data+s:s:n+=s),e.DataSource.Local.transactions[t.tId]=r(n,o),t.tId}}),e.DataSource.IO=n},"patched-v3.11.0",{requires:["datasource-local","io-base"]});YUI.add("datasource-get",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)};e.DataSource.Get=e.extend(n,e.DataSource.Local,{_defRequestFn:function(t){var n=this.get("source"),r=this.get("get"),i=e.guid().replace(/\-/g,"_"),s=this.get("generateRequestCallback"),o=t.details[0],u=this;return this._last=i,YUI.Env.DataSource.callbacks[i]=function(n){delete YUI.Env.DataSource.callbacks[i],delete e.DataSource.Local.transactions[t.tId];var r=u.get("asyncMode")!=="ignoreStaleResponses"||u._last===i;r&&(o.data=n,u.fire("data",o))},n+=t.request+s.call(this,i),e.DataSource.Local.transactions[t.tId]=r.script(n,{autopurge:!0,onFailure:function(n){delete YUI.Env.DataSource.callbacks[i],delete e.DataSource.Local.transactions[t.tId],o.error=new Error(n.msg||"Script node data failure"),u.fire("data",o)},onTimeout:function(n){delete YUI.Env.DataSource.callbacks[i],delete e.DataSource.Local.transactions[t.tId],o.error=new Error(n.msg||"Script node data timeout"),u.fire("data",o)}}),t.tId},_generateRequest:function(e){return"&"+this.get("scriptCallbackParam")+"=YUI.Env.DataSource.callbacks."+e}},{NAME:"dataSourceGet",ATTRS:{get:{value:e.Get,cloneDefaultValue:!1},asyncMode:{value:"allowAll"},scriptCallbackParam:{value:"callback"},generateRequestCallback:{value:function(){return this._generateRequest.apply(this,arguments)}}}}),YUI.namespace("Env.DataSource.callbacks")},"patched-v3.11.0",{requires:["datasource-local","get"]});